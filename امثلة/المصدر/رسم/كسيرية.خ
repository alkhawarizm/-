					بسم الله الحكيم الخبير
	
الرزمة 	الخوارزم
		

استعمل 			الخوارزم.رسم.نافذة
استعمل 			الخوارزم.نظام.تفاعل
استعمل 			الخوارزم.وسائط.شاشة

الصنف كسيرية {
					
						المتغير تنفيذ منطقي := صواب


						 المتغير مفتاح شيء {
							فوق،  اسفل، يسار، يمين ، ث، ز ، تحول، مساحة، رجوع، هروب	صحيح8 طبيعي
						}؛

						الدالة تحديث_المدخلات() 	منطقي	{
							المتغير حدث	تفاعل::حدث 
							المتغير	حالات  ۢصحيح8 طبيعي

							مادام 		تفاعل::استطلع_الاحداث(؏حدث)  = صواب {
								اذا  حدث.نوعه =  تفاعل::رقم_حدث_الخروج() {
									ارجع صواب
								}
							}
							ارجع خطا							
						}	
						
						الدالة تحديث()  	{
							اذا تحديث_المدخلات() او مفتاح.هروب ليس= 0ط8 {
								تنفيذ		:= خطا
							}	
						}	

	الدالة		رسم		()		{
		المتغير طول_الشاشة ، ارتفاع_الشاشة، ا، ب، ج صحيح := 800، 800
			(۩	  حقيقي، خيالي	۩)				
			المتغير	بح، بخ حقيقي 		
			المتغير	بح_سابق، بخ_سابق، بح_جديد، بخ_جديد حقيقي 		
			المتغير	تكبير، حرك_ا، حرك_ب حقيقي := 1،	-0.5	، 0
			المتغير	تكرار 	صحيح := 600		
			المتغير		 _احمر_اخضر_ازرق نافذة::احمر_اخضر_ازرق
		 
			نافذة::تهياة_الرسم("كسيرية"،طول_الشاشة،ارتفاع_الشاشة)		
			نافذة::لون_الخلفية (0، 0، 0، 255)	
			
			لاجل		ا := 0	؛	ا < طول_الشاشة؛ ا++ {
					لاجل		ب := 0	؛	ب < ارتفاع_الشاشة؛ ب++ {
						
						بــــح	:= 1.5	×	(ا 	كما حقيقي	- طول_الشاشة	كما حقيقي \2)	\	( 0.5	× تكبير ×	طول_الشاشة كما حقيقي ) + حرك_ا
						بــــخ	:=	(ب كما حقيقي	- ارتفاع_الشاشة 	كما حقيقي \ 2)		\	( 0.5	× تكبير ×	ارتفاع_الشاشة كما حقيقي ) + حرك_ب

						بح_سابق :=  بخ_سابق := بح_جديد :=  بخ_جديد := 0		

							لاجل ج := 0؛ ج < تكرار	؛ ج++ {
								بح_سابق	 := بح_جديد
								بخ_سابق	 := 	بخ_جديد	
								بح_جديد	:= 		بح_سابق	×	بح_سابق - 	بخ_سابق	× بخ_سابق + بح
								بخ_جديد	:=	2 × بح_سابق		× 	بخ_سابق + 	بخ		
								اذا 	بح_جديد × بح_جديد	+ 	بخ_جديد	 × بخ_جديد	> 4 {
									قطع؛
								}
							}

						اذا 		ج = 		تكرار {
							 _احمر_اخضر_ازرق.ح :=0
											  _احمر_اخضر_ازرق.خ := 0
											 _احمر_اخضر_ازرق.ز := 	0		
						} والا {
							 _احمر_اخضر_ازرق.ح :=  (ج نمط  تكرار )	كما حقيقي  
											  _احمر_اخضر_ازرق.خ :=	10 ×	 (تكرار - ج) كما حقيقي   
											 _احمر_اخضر_ازرق.ز := 	 ( 255 ×  ((	ج < تكرار	) ؟ 1 : 0 ) ) كما حقيقي			
						}
							
													
					 _احمر_اخضر_ازرق	:=  نافذة::صبغة_إشباع_قيمة_الى_احمر_اخضر_ازرق	(	 نافذة::احمر_اخضر_ازرق_الى_صبغة_إشباع_قيمة (_احمر_اخضر_ازرق) )		
							
					  نافذة::لون(_احمر_اخضر_ازرق.ح كما صحيح ،  _احمر_اخضر_ازرق.خ	 كما صحيح، _احمر_اخضر_ازرق.ز   كما صحيح  ، 255)	
					 نافذة::نقطة(ا	   ، ب	   )  	
					}
				}		
			
			مادام تنفيذ {
				نافذة::عرض()		
				تحديث() 			
			}

			نافذة::نهاية()		

	}		
	(۩۩	 	الاصــــــــــــــــــــــــــــــــــــــــــــــــــــــــل					
	الدالة الاصل () {
		رسم		()	
	}		۩۩)	
						
}